<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type"content="text/html; charset=utf-8">
    <link href="../style.css" rel="Stylesheet" type="text/css">
    <title>Port maps editor</title>
  </head>
  <body>
    <h2>Port maps editor</h2> 

    User can map the <i>logical signals</i> of a <i>bus interface</i>
    to the physical <i>ports</i> of the component.

    <h3>To map a pair of logical and physical ports</h3>
    <p>
      Select a port from left or right list and drag-drop it over to
      the other list. When dropped, the pair(s) of physical and
      logical port(s) appear on the bottom.
    </p>
    <h3>To remove mapping</h3>
    <p>
      Select some cell(s) on the bottom table and hit DEL or
      right-click <b>Remove mapping</b>.
    </p>
    <h3>To map multiple ports at once</h3>
    <p>
    <ol>
      <li>Move ports up/down in both lists to desired order.</li>
      <li>Select range of ports by SHIFT or picking by CTRL first on
      one list and then on the other.</li>
      <li>Click&nbsp;<b>Connect&nbsp;</b>.</li>
    </ol>
  </p>
    <h3>Bit field mapping</h3>
    <p>
      Ports can also be mapped bit by bit. Click <b>Show bit-field 
	  mapping</b> to open the editor. To create mapping:
	  <ol>
      <li>Select a logical port from the list. The editor displays 
	  the bits in the logical signal.</li>
      <li>Map physical port(s) to the logical bits. Drag-drop a 
	  physical port on the lowest logical bit of the mapping. 
	  Alternatively, selected physical port(s) can be mapped to the 
	  first unmapped logical bit(s) by SHIFT+ENTER.</li>
      <li>Click&nbsp;<b>Connect&nbsp;</b>.</li>
    </ol>
    </p>
    <h3>Details</h3>
    <p>
      The port maps tab of a bus interface editor is used to group the
      physical ports of the containing component to the logical
      signals listed in the associated abstraction definition.
    </p>
    <p>
      The left list contains the <i>logical signals</i> that were
      defined in the associated <i>abstraction definition</i>. The
      right contains a list of the physical <i>ports</i> in the
      component. The bottom table displays the mappings between
      logical signals and physical ports. A mapping can be created by
      dragging an item from one of the top lists to the another or by
      selecting an item in the both lists and pressing enter or
      clicking the connect button. The mapped items disappear from the
      top lists and appear the bottom table.
    </p>
	<p>
      The port directions are shown using the following icons:
	  <ul>
      <li><img src="../../graphics/control-180.png"></img>in</li>
	  <li><img src="../../graphics/control.png"></img>out</li>
	  <li><img src="../../graphics/control-dual.png">inout</img></li>
    </ul>
    </p>
    <p>
      If user selects several items on both lists and connects them,
      then mappings between the ports are made in the order which the
      items were listed. User can remove the mappings from the bottom
      table by selecting the row and pressing delete or selecting
      <b>Remove mapping</b> from the context menu. When a mapping is
      removed the associated ports return to the top lists. 

      <br>Pressing the <b>Clean up</b> button will remove any
      duplicate or missing ports from the lists. A port can also be 
	  returned to the top list by selecting it in the bottom table and 
	  selecting <b>Restore port to list</b> in the context menu. 
    </p>
      
    <p>Picture below depicts how the physical ports between two
    component instances are connected through their bus
    interfaces.<br> <img src="../images/PortmapVisualization.png"
    alt="The association between physical ports and logical signals"
    ><br> The physical ports of the component A are on the left and
    those of component B on the right. Logical signals are in the
    middle and the lines denote port mappings.  For example component
    A has mapped its port 'comm_out' to the logical signal 'COMM' and
    component B has mapped its port comm_in to it.  When user connects
    these interfaces together in a design, the physical ports get
    connected. 
      <br>
    All ports of the component do not need to be mapped in the
    interface nor do all the logical signals of the abstraction
    definition need to be associated with a physical port. Abstraction
    definition defines the directions of the signals in different
    interface modes thus making it possible to validate connections so
    that two output ports are not accidentally connected to each
    other. In the figure above the abstraction definition could have
    defined the DATA signal to have direction out in master interfaces
    and in at slave interfaces.
    </p>
    <p>
      A vectored physical port can be sliced to connect only part of
      it by assigning left and right bounds in the mapping table.
      Picture below depicts how a part of the physical port can be
      connected.<br> <img src="../images/portSlicingVisualization.png"
      alt="Connecting only a part of a vectored port in port map"><br>
    </p>
  </body>
</html>
